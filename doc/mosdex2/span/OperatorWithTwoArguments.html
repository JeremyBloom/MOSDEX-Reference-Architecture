<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (13) on Mon Aug 08 15:55:32 PDT 2022 -->
<title>OperatorWithTwoArguments</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-08-08">
<meta name="description" content="declaration: package: io.github.JeremyBloom.mosdex2.span, class: OperatorWithTwoArguments">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":6,"i6":6,"i7":10,"i8":10,"i9":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OperatorWithTwoArguments.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.github.JeremyBloom.mosdex2.span</a></div>
<h1 title="Class OperatorWithTwoArguments" class="title">Class OperatorWithTwoArguments</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">io.github.JeremyBloom.mosdex2.span.OperatorWithTwoArguments</div>
</div>
<section class="description">
<hr>
<pre>public abstract class <span class="typeNameLabel">OperatorWithTwoArguments</span>
extends java.lang.Object</pre>
<div class="block">An Operator analog of Java BinaryOperator that keeps track of the Container Schema of
 the result.
 <p>
 An Operator with two arguments is a transformation that acts two a data Containers 
 and returns a Container result. Because the data in a Container 
 requires a Schema to specify the types of its items, the Operator needs to specify 
 the Schema of its result. 
 <p>
 Most applications of this class involve matching a key field 
 in the two argument Containers. 
 The apply method, which implements the transformation, 
 takes an Optional for each of the arguments 
 to deal with the case where there is no matching key in one of 
 the Spans that supply the arguments. 
 If the keys match, the apply method calls the onKeyMatch method to create the result Container.
 When there is no matching key, the apply method calls the noKeyMatch method, 
 which processes the items from the argument that is present and
 fills the empty items from the absent argument 
 with some appropriate, context-specific default values (often Java null). 
 The missing keys are recorded, and 
 can be retrieved with the getMissingKeys method.
 <p>
 Thus, defining a two argument Operator requires specifying
 three abstract methods:
 <ul style="list-style-type:bullet;">
 <li> the withResultSchema method creates the Schema of the result Containers, usually by modifying the Schema 
 of the argument Containers</li>
 <li> the onKeyMatch method transforms the two argument Containers with matching keys into the result Container</li>
 <li> the noKeyMatch method transforms the argument that is present 
 and fills the items from the absent argument with default values</li>
 </ul>
 <p>
 Examples of how to implement these methods are given in their documentation.
 <p>
 This Operator class also includes several auxiliary methods that enable 
 retrieving the result Schema and viewing the Containers as they are transformed, 
 among other capabilities.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Dr. Jeremy A. Bloom (jeremyblmca@gmail.com) Â©2019 Jeremy A. Bloom</dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isNotPresent">isNotPresent</a></span></code></th>
<td class="colLast">
<div class="block">Indicates whether the left, right, or neither argument is not present.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#keysMatch">keysMatch</a></span></code></th>
<td class="colLast">
<div class="block">True if the key fields in two arguments match.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#leftInputSchema">leftInputSchema</a></span></code></th>
<td class="colLast">
<div class="block">Holds the Schema of the left argument.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#leftKeyFieldName">leftKeyFieldName</a></span></code></th>
<td class="colLast">
<div class="block">Holds the name of the key field in the left argument.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resultSchema">resultSchema</a></span></code></th>
<td class="colLast">
<div class="block">Holds the Schema of the result Containers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rightInputSchema">rightInputSchema</a></span></code></th>
<td class="colLast">
<div class="block">Holds the Schema of the right argument.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rightKeyFieldName">rightKeyFieldName</a></span></code></th>
<td class="colLast">
<div class="block">Holds the name of the key field in the right argument.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">OperatorWithTwoArguments</a></span>()</code></th>
<td class="colLast">
<div class="block">Constructs a new OperatorWithTwoArguments object.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#apply(java.util.Optional,java.util.Optional)">apply</a></span>&#8203;(java.util.Optional&lt;<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&gt;&nbsp;left,
java.util.Optional&lt;<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&gt;&nbsp;right)</code></th>
<td class="colLast">
<div class="block">Transforms the two input Containers to the result Container.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getResultSchema()">getResultSchema</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasKeyMatch()">hasKeyMatch</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>java.util.function.Predicate&lt;<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#inner()">inner</a></span>()</code></th>
<td class="colLast">
<div class="block">Filters records that have matching keys, 
 and removes those that do not, to create an inner join.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isNotPresent()">isNotPresent</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>protected abstract <a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#noKeyMatch(java.util.Optional,java.util.Optional)">noKeyMatch</a></span>&#8203;(java.util.Optional&lt;<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&gt;&nbsp;left,
java.util.Optional&lt;<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&gt;&nbsp;right)</code></th>
<td class="colLast">
<div class="block">Creates a result Container with default values for some the items when there is no Container in one of the 
 Spans whose key matches a Container in the other Span.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>protected abstract <a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onKeyMatch(io.github.JeremyBloom.mosdex2.MsdxContainer,io.github.JeremyBloom.mosdex2.MsdxContainer)">onKeyMatch</a></span>&#8203;(<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&nbsp;left,
<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&nbsp;right)</code></th>
<td class="colLast">
<div class="block">Creates the result Container from two input Containers, assuming that both are present.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code><a href="OperatorWithOneArgument.html" title="class in io.github.JeremyBloom.mosdex2.span">OperatorWithOneArgument</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#peek(java.util.function.Consumer)">peek</a></span>&#8203;(java.util.function.Consumer&lt;<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&gt;&nbsp;consumer)</code></th>
<td class="colLast">
<div class="block">Returns the result Containers generated by this Operator, 
 additionally performing the provided action on each Container 
 as they are consumed.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code><a href="OperatorWithOneArgument.html" title="class in io.github.JeremyBloom.mosdex2.span">OperatorWithOneArgument</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unmatchedKeys(java.util.Map)">unmatchedKeys</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.util.Set&lt;java.lang.Object&gt;&gt;&nbsp;result)</code></th>
<td class="colLast">
<div class="block">Used after a join, this Operator finds the keys from each Span that have no match in the other Span.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>abstract <a href="OperatorWithTwoArguments.html" title="class in io.github.JeremyBloom.mosdex2.span">OperatorWithTwoArguments</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withResultSchema(io.github.JeremyBloom.mosdex2.MsdxContainer,java.lang.String,io.github.JeremyBloom.mosdex2.MsdxContainer,java.lang.String)">withResultSchema</a></span>&#8203;(<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;&nbsp;leftInputSchema,
java.lang.String&nbsp;leftKeyFieldName,
<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;&nbsp;rightInputSchema,
java.lang.String&nbsp;rightKeyFieldName)</code></th>
<td class="colLast">
<div class="block">Specifies the Schema of the result Containers.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="resultSchema">resultSchema</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType"><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;</span>&nbsp;<span class="memberName">resultSchema</span></div>
<div class="block">Holds the Schema of the result Containers.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="leftInputSchema">leftInputSchema</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType"><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;</span>&nbsp;<span class="memberName">leftInputSchema</span></div>
<div class="block">Holds the Schema of the left argument.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="rightInputSchema">rightInputSchema</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType"><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;</span>&nbsp;<span class="memberName">rightInputSchema</span></div>
<div class="block">Holds the Schema of the right argument.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="leftKeyFieldName">leftKeyFieldName</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">leftKeyFieldName</span></div>
<div class="block">Holds the name of the key field in the left argument.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="rightKeyFieldName">rightKeyFieldName</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">rightKeyFieldName</span></div>
<div class="block">Holds the name of the key field in the right argument.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="keysMatch">keysMatch</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">keysMatch</span></div>
<div class="block">True if the key fields in two arguments match.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isNotPresent">isNotPresent</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">isNotPresent</span></div>
<div class="block">Indicates whether the left, right, or neither argument is not present.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;()">OperatorWithTwoArguments</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">OperatorWithTwoArguments</span>()</div>
<div class="block">Constructs a new OperatorWithTwoArguments object.
 <p>
 Note: in usage, a concrete instance of this class is often created inline,
 with the following syntax:<br>
 <pre><code>
 new OperatorWithTwoArguments() {
 <br>
        @Override public OperatorWithTwoArguments withResultSchema(
                MsdxContainer<Class<?>> leftInputSchema,
                leftKeyFieldName,
                MsdxContainer<Class<?>> rightInputSchema,
                String rightKeyFieldName)
        {
                ...
                return this;
        }//withResultSchema
 <br>
        @Override protected MsdxContainer<Object> onKeyMatch(
                MsdxContainer<Object> left,
                MsdxContainer<Object> right)
        {
                ...
        }//onKeyMatch
 <br>
        @Override protected MsdxContainer<Object> noKeyMatch(
                Optional<MsdxContainer<Object>> left,
                Optional<MsdxContainer<Object>> right)
        {
                ...
        }//noKeyMatch
 <br>
 };//OperatorWithTwoArguments
 </code></pre></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="withResultSchema(io.github.JeremyBloom.mosdex2.MsdxContainer,java.lang.String,io.github.JeremyBloom.mosdex2.MsdxContainer,java.lang.String)">withResultSchema</a></h3>
<div class="memberSignature"><span class="modifiers">public abstract</span>&nbsp;<span class="returnType"><a href="OperatorWithTwoArguments.html" title="class in io.github.JeremyBloom.mosdex2.span">OperatorWithTwoArguments</a></span>&nbsp;<span class="memberName">withResultSchema</span>&#8203;(<span class="arguments"><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;&nbsp;leftInputSchema,
java.lang.String&nbsp;leftKeyFieldName,
<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;&nbsp;rightInputSchema,
java.lang.String&nbsp;rightKeyFieldName)</span></div>
<div class="block">Specifies the Schema of the result Containers. This method is called
 invisibly and automatically by the Span transformations that use a two
 argument Operator, including the joins and reduce. You can also call it
 explicitly when creating an Operator instance. To avoid the automatic call
 overwriting the explicit call, include an early return statement as indicated
 in the comment below.
 <p>
 Here is an example of how to write a concrete implementation of this
 method:<br>
 <pre><code>
 @Override 
 public OperatorWithTwoArguments withResultSchema(
        MsdxContainer<Class<?>> leftInputSchema, 
        String leftKeyFieldName,
        MsdxContainer<Class<?>> rightInputSchema,
        String rightKeyFieldName)
 {
        if(this.resultSchema!=null)
                return this;
        ...
        this.resultSchema= MsdxContainer.<Class<?>>builder()
                .copyItem(leftInputSchema, "itemName")
                .addItem("Name", String.class)
                ...                                                                                                     
                .build();
        return this;
 }//withResultSchema
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>leftInputSchema</code> - used to copy fields from the input; this is an
                              optional parameter and can be set as empty or
                              null if the input fields are not used; fields
                              that are not part of the input schema can also
                              be specified.</dd>
<dd><code>leftKeyFieldName</code> - in the leftInputSchema</dd>
<dd><code>rightInputSchema</code> - used to copy fields from the input; this is an
                              optional parameter and can be set as empty or
                              null if the input fields are not used; fields
                              that are not part of the input schema can also
                              be specified.</dd>
<dd><code>rightKeyFieldName</code> - in the rightInputSchema</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Operator</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the result schema has already been specified</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getResultSchema()">getResultSchema</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;</span>&nbsp;<span class="memberName">getResultSchema</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Schema of the result Containers</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="apply(java.util.Optional,java.util.Optional)">apply</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;</span>&nbsp;<span class="memberName">apply</span>&#8203;(<span class="arguments">java.util.Optional&lt;<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&gt;&nbsp;left,
java.util.Optional&lt;<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&gt;&nbsp;right)</span></div>
<div class="block">Transforms the two input Containers to the result Container.
 The apply method takes an Optional object for each argument 
 to deal with the case where there is no matching key in the other Span, 
 as can happen in a join operation.
 If the keys match, it calls the onKeyMatch method to create the result Container.
 When there is no matching key in the one of the Spans, the noKeyMatch method fills the empty 
 components with some appropriate, context-specific default values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>left</code> - Span Container input</dd>
<dd><code>right</code> - Span Container input</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result Container</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if the result container is inconsistent with the result schema 
 (i.e. missing or extra fields or type mismatch on any field)</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="onKeyMatch(io.github.JeremyBloom.mosdex2.MsdxContainer,io.github.JeremyBloom.mosdex2.MsdxContainer)">onKeyMatch</a></h3>
<div class="memberSignature"><span class="modifiers">protected abstract</span>&nbsp;<span class="returnType"><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;</span>&nbsp;<span class="memberName">onKeyMatch</span>&#8203;(<span class="arguments"><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&nbsp;left,
<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&nbsp;right)</span></div>
<div class="block">Creates the result Container from two input Containers, assuming that both are present. 
 <p>
 Here is an example of how to write a concrete implementation of this
 method:<br>
 <pre><code>
 @Override                                                                                                                                
 protected MsdxContainer<Object> onKeyMatch(
        MsdxContainer<Object> left,
        MsdxContainer<Object> right) 
 {
        ...
        return MsdxRecord.builder(this.getResultSchema())
                .copyItem(left, "itemName")
                ...
                .addItem("Name", "name")                                                        
                .build();
 }//onKeyMatch
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>left</code> - Span Container input</dd>
<dd><code>right</code> - Span Container input</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result Container</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="noKeyMatch(java.util.Optional,java.util.Optional)">noKeyMatch</a></h3>
<div class="memberSignature"><span class="modifiers">protected abstract</span>&nbsp;<span class="returnType"><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;</span>&nbsp;<span class="memberName">noKeyMatch</span>&#8203;(<span class="arguments">java.util.Optional&lt;<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&gt;&nbsp;left,
java.util.Optional&lt;<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&gt;&nbsp;right)</span></div>
<div class="block">Creates a result Container with default values for some the items when there is no Container in one of the 
 Spans whose key matches a Container in the other Span.
 
 The arguments of the noKeyMatch method are used to differentiate the default values 
 when an empty optional value of one of the Containers is returned;
 may which depend on other fields in the non-empty Container; 
 usually it would include the key field of the merged Container.
 Note: one and only one of the two parameters can be empty.
 <p>
 Here is an example of how to write a concrete implementation of this
 method:<br>
 <pre><code>
 @Override                                                                                                                                
 protected MsdxContainer<Object> noKeyMatch(
        Optional<MsdxContainer<Object>>        left, 
        Optional<MsdxContainer<Object>> right) 
 {
        if(!(left.isPresent() ^ right.isPresent()))
                throw new IllegalStateException("One and only one of the parameters can be present");
        MsdxContainer<Object> present= left.isPresent() ?
                left.get() :
                right.get();
        MsdxContainer<Class<?>> absentSchema= left.isPresent() ?
                this.rightInputSchema.delete(this.rightKeyFieldName) :
                this.leftInputSchema.delete(this.leftKeyFieldName);
        MsdxRecord.Builder builder= MsdxRecord.builder(this.getResultSchema())
                .copyItems(present);
        for(String fieldName: absentSchema.itemNames())
                builder.addItemIf(!present.containsField(fieldName), fieldName, null);
        return builder.build();
 }//noKeyMatch
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>left</code> - Span Container input if present</dd>
<dd><code>right</code> - Span Container input if present</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result Container</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the arguments are both present or both empty.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="hasKeyMatch()">hasKeyMatch</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">hasKeyMatch</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if there is a matching key in both Spans</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isNotPresent()">isNotPresent</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">isNotPresent</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>left, right, or neither depending on which argument is not present</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="peek(java.util.function.Consumer)">peek</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="OperatorWithOneArgument.html" title="class in io.github.JeremyBloom.mosdex2.span">OperatorWithOneArgument</a></span>&nbsp;<span class="memberName">peek</span>&#8203;(<span class="arguments">java.util.function.Consumer&lt;<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&gt;&nbsp;consumer)</span></div>
<div class="block">Returns the result Containers generated by this Operator, 
 additionally performing the provided action on each Container 
 as they are consumed.
 <p>
 Usage:<br>
 <pre><code>
 OperatorWithTwoArguments combiner= ...;
 terms.leftOuterJoin(variables, "Column", combiner)
        .map(combiner.peek(record -> System.out(record.get(keyFieldName).toString));
 </code></pre>
 <p>    
 Note: this directive is not executed until a terminal operation is performed on the result Span.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>consumer</code> - specifies the action to be performed as the Containers are returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a one argument Operator</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="unmatchedKeys(java.util.Map)">unmatchedKeys</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="OperatorWithOneArgument.html" title="class in io.github.JeremyBloom.mosdex2.span">OperatorWithOneArgument</a></span>&nbsp;<span class="memberName">unmatchedKeys</span>&#8203;(<span class="arguments">java.util.Map&lt;java.lang.String,&#8203;java.util.Set&lt;java.lang.Object&gt;&gt;&nbsp;result)</span></div>
<div class="block">Used after a join, this Operator finds the keys from each Span that have no match in the other Span.
 <p>
 Usage:<br>
 <pre><code>
 OperatorWithTwoArguments combiner= ...;
        Map<String, Object> result= new ...;
        terms.leftOuterJoin(variables, "Column", combiner).
                .map(combiner.unmatchedKeys(result));
        do something with result
 </code></pre>
 <p>
 Note: this directive is not executed until a terminal operation is performed on this span.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>result</code> - is a map modified by this method to include the unmatched keys.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>set of unmatched keys in the left and right Spans</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="inner()">inner</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.function.Predicate&lt;<a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Object&gt;&gt;</span>&nbsp;<span class="memberName">inner</span>()</div>
<div class="block">Filters records that have matching keys, 
 and removes those that do not, to create an inner join.
 <p>
 Usage:<br>
 <pre><code>
 OperatorWithTwoArguments combiner= ...;
 terms.leftOuterJoin(variables, "Column", combiner)
        .filter(combiner.inner());
 </code></pre>
 <p>    
 Note: this directive is not executed until a terminal operation is performed on this span.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Java Predicate</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OperatorWithTwoArguments.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
