<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (13) on Mon Aug 08 15:55:32 PDT 2022 -->
<title>MsdxQuery</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-08-08">
<meta name="description" content="declaration: package: io.github.JeremyBloom.mosdex2.objectModel, class: MsdxQuery">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MsdxQuery.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.github.JeremyBloom.mosdex2.objectModel</a></div>
<h1 title="Class MsdxQuery" class="title">Class MsdxQuery</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance"><a href="MsdxObject.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">io.github.JeremyBloom.mosdex2.objectModel.MsdxObject</a>
<div class="inheritance">io.github.JeremyBloom.mosdex2.objectModel.MsdxQuery</div>
</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="typeNameLabel">MsdxQuery</span>
extends <a href="MsdxObject.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">MsdxObject</a></pre>
<div class="block">Represents a MOSDEX Query in Java. 
 Query also is the type for the Table fields INITIALIZE, APPEND and REVISE. 
 The primary content of this class is the JSON Tree Model node thisNode (inherited from MsdxObject).
 <p>
 A Query is represented by a JSON object of clause fields.
 A clause is a JSON field, where the field key is a directive, an SQL operation such as 
 SELECT, FROM, WHERE, JOIN, etc. The field value in a clause is the predicate of the directive;
 usually it's a array of values and/or Query objects, but it could also be a stand-alone value or Query.
 Typically, a predicate  is simply a list (of strings). However, SQL also allows predicates that are subqueries.
 In that case, an item of the predicate may itself be a Query. 
 Furthermore, potentially (but not commonly) predicate may be nested to any number of levels.
 <p>
 A dependency occurs when a Table's Query references another Table.  
 Amongst all the clauses, dependencies occur in the predicates of the following directives:
 FROM, JOIN, NATURAL JOIN, LEFT/RIGHT/FULL OUTER JOIN, CROSS JOIN.
 Subqueries can arise in SELECT, FROM, and WHERE directives and 
 also in set operations UNION, UNION ALL, INTERSECT, and MINUS.
 <p>
 Note: JSON generally requires that objects have unique keys. In the case of a Query object, that means 
 that the directives must be unique, which would preclude having, for instance, 
 multiple Joins in a single query. 
 While such multi-join queries are probably rare in MOSDEX, they must be accommodated.
 So for MOSDEX syntax, the directives can be appended with a number to distinguish them, 
 as say "JOIN#1" "JOIN#2", etc. MOSDEX will strip off the # and anything 
 after it before presenting the query to the SQL engine.
 <p>
 The following is an example Query: 
 <pre><code>
 "QUERY": {                                                         
    "SELECT": [                                                     
      "'operatingCost' AS Row                            -- STRING",
      "ship.Column AS Column                             -- STRING",
      "routes.shippingCost*demands.amount AS Coefficient -- DOUBLE" 
    ],                                                              
    "FROM": [ "routes" ],                                           
    "JOIN": [ "ship" ], "USING": [ "(location, store)" ],           
    "JOIN#2": [ "demands" ], "USING#2": [ "(store)" ]               
  }                                                                 
 </code></pre>                                                                 
 The schema of the Query is defined by field types appended to each field in a SELECT Clause 
 as an SQL comment, denoted by -- surrounded by white space.
 Note that if a Query has multiple Directives of the same kind (e.g. multiple JOIN clauses), 
 you can append a #n suffix (n an integer) to distinguish them (because field names in a JSON object must be unique);
 the query processing methods of this class will strip off the suffixes.
 <p>
 The class provides helper methods to create SQL query strings and to derive the schema from the query.
 The toSQL methods parse the Query node to create a string that can be read by the create method of
 MsdxDataframe.Factory. 
 The static member class Resolver handles dependencies among the Tables. 
 <p>
 The syntax of MOSDEX: Mathematical Optimization Solver Data EXchange, v 2-0. 
 Copyright Â© 2022 Jeremy A. Bloom</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Dr. Jeremy A. Bloom (jeremyblmca@gmail.com) Â©2019 Jeremy A. Bloom</dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="MsdxQuery.Resolver.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">MsdxQuery.Resolver</a></span></code></th>
<td class="colLast">
<div class="block">This class resolves dependencies among the Tables in a Model, i.e.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="inheritedList">
<h2>Nested classes/interfaces inherited from class&nbsp;io.github.JeremyBloom.mosdex2.objectModel.<a href="MsdxObject.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">MsdxObject</a></h2>
<a id="nested.classes.inherited.from.class.io.github.JeremyBloom.mosdex2.objectModel.MsdxObject">
<!--   -->
</a><code><a href="MsdxObject.Factory.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">MsdxObject.Factory</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#dependencies">dependencies</a></span></code></th>
<td class="colLast">
<div class="block">Holds the set of Table names upon which this Query depends.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.regex.Pattern</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#FIELD_AS_COMMENT">FIELD_AS_COMMENT</a></span></code></th>
<td class="colLast">
<div class="block">Matches the "field name -- field type end" parts in a SELECT clause.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.regex.Pattern</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#IDENTIFIER">IDENTIFIER</a></span></code></th>
<td class="colLast">
<div class="block">Matches a field name or field type in a SELECT clause.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="inheritedList">
<h3>Fields inherited from class&nbsp;io.github.JeremyBloom.mosdex2.objectModel.<a href="MsdxObject.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">MsdxObject</a></h3>
<a id="fields.inherited.from.class.io.github.JeremyBloom.mosdex2.objectModel.MsdxObject">
<!--   -->
</a><code><a href="MsdxObject.html#factory">factory</a>, <a href="MsdxObject.html#parent">parent</a>, <a href="MsdxObject.html#thisNode">thisNode</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(com.fasterxml.jackson.databind.JsonNode,io.github.JeremyBloom.mosdex2.objectModel.MsdxObject,io.github.JeremyBloom.mosdex2.objectModel.MsdxObject.Factory)">MsdxQuery</a></span>&#8203;(com.fasterxml.jackson.databind.JsonNode&nbsp;thisNode,
<a href="MsdxObject.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">MsdxObject</a>&nbsp;parent,
<a href="MsdxObject.Factory.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">MsdxObject.Factory</a>&nbsp;factory)</code></th>
<td class="colLast">
<div class="block">Constructs a new Query object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(io.github.JeremyBloom.mosdex2.objectModel.MsdxObject)">MsdxQuery</a></span>&#8203;(<a href="MsdxObject.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">MsdxObject</a>&nbsp;parent)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDependencies()">getDependencies</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSchema()">getSchema</a></span>()</code></th>
<td class="colLast">
<div class="block">This method creates a Table Schema from a Query in MOSDEX JSON.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toSQL()">toSQL</a></span>()</code></th>
<td class="colLast">
<div class="block">Parses the node associated with this Query.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>protected java.lang.StringBuilder</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toSQL(com.fasterxml.jackson.databind.JsonNode)">toSQL</a></span>&#8203;(com.fasterxml.jackson.databind.JsonNode&nbsp;node)</code></th>
<td class="colLast">
<div class="block">Recursively parses the clauses of a Query node to append 
 to the SQL string being built.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;io.github.JeremyBloom.mosdex2.objectModel.<a href="MsdxObject.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">MsdxObject</a></h3>
<a id="methods.inherited.from.class.io.github.JeremyBloom.mosdex2.objectModel.MsdxObject">
<!--   -->
</a><code><a href="MsdxObject.html#addElement(com.fasterxml.jackson.databind.JsonNode)">addElement</a>, <a href="MsdxObject.html#elements()">elements</a>, <a href="MsdxObject.html#fieldNames()">fieldNames</a>, <a href="MsdxObject.html#fields()">fields</a>, <a href="MsdxObject.html#forEach(java.util.function.Consumer)">forEach</a>, <a href="MsdxObject.html#getAsNode()">getAsNode</a>, <a href="MsdxObject.html#getFactory()">getFactory</a>, <a href="MsdxObject.html#getFieldAsNode(java.lang.String)">getFieldAsNode</a>, <a href="MsdxObject.html#getNodeType()">getNodeType</a>, <a href="MsdxObject.html#getParent()">getParent</a>, <a href="MsdxObject.html#hasField(java.lang.String)">hasField</a>, <a href="MsdxObject.html#isNull()">isNull</a>, <a href="MsdxObject.html#nodeIsArray()">nodeIsArray</a>, <a href="MsdxObject.html#nodeIsObject()">nodeIsObject</a>, <a href="MsdxObject.html#setField(java.lang.String,com.fasterxml.jackson.databind.JsonNode)">setField</a>, <a href="MsdxObject.html#spliterator()">spliterator</a>, <a href="MsdxObject.html#toNodeStream()">toNodeStream</a>, <a href="MsdxObject.html#toString()">toString</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="dependencies">dependencies</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">java.util.Set&lt;java.lang.String&gt;</span>&nbsp;<span class="memberName">dependencies</span></div>
<div class="block">Holds the set of Table names upon which this Query depends.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="IDENTIFIER">IDENTIFIER</a></h3>
<div class="memberSignature"><span class="modifiers">private static final</span>&nbsp;<span class="returnType">java.util.regex.Pattern</span>&nbsp;<span class="memberName">IDENTIFIER</span></div>
<div class="block">Matches a field name or field type in a SELECT clause.
 Used in the getSchema method.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="FIELD_AS_COMMENT">FIELD_AS_COMMENT</a></h3>
<div class="memberSignature"><span class="modifiers">private static final</span>&nbsp;<span class="returnType">java.util.regex.Pattern</span>&nbsp;<span class="memberName">FIELD_AS_COMMENT</span></div>
<div class="block">Matches the "field name -- field type end" parts in a SELECT clause.
 The field name may or may not be preceded by the SQL keyword "AS".
 Used in the getSchema method.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(com.fasterxml.jackson.databind.JsonNode,io.github.JeremyBloom.mosdex2.objectModel.MsdxObject,io.github.JeremyBloom.mosdex2.objectModel.MsdxObject.Factory)">MsdxQuery</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">MsdxQuery</span>&#8203;(<span class="arguments">com.fasterxml.jackson.databind.JsonNode&nbsp;thisNode,
<a href="MsdxObject.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">MsdxObject</a>&nbsp;parent,
<a href="MsdxObject.Factory.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">MsdxObject.Factory</a>&nbsp;factory)</span></div>
<div class="block">Constructs a new Query object.
 Ordinarily, a QUERY should be deserialized from JSON using methods of the 
 MsdxObject.Factory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>thisNode</code> - Tree model representation of this object</dd>
<dd><code>parent</code> - the Table object containing this Query</dd>
<dd><code>factory</code> - that created this object</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(io.github.JeremyBloom.mosdex2.objectModel.MsdxObject)">MsdxQuery</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="memberName">MsdxQuery</span>&#8203;(<span class="arguments"><a href="MsdxObject.html" title="class in io.github.JeremyBloom.mosdex2.objectModel">MsdxObject</a>&nbsp;parent)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="getDependencies()">getDependencies</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.Set&lt;java.lang.String&gt;</span>&nbsp;<span class="memberName">getDependencies</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the set of Table names upon which this Query depends</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="toSQL()">toSQL</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">toSQL</span>()</div>
<div class="block">Parses the node associated with this Query. 
 This method is parent of the recursive toSQL method, 
 which parses the children nodes of this Query.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the SQL representation of this Query</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="toSQL(com.fasterxml.jackson.databind.JsonNode)">toSQL</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">java.lang.StringBuilder</span>&nbsp;<span class="memberName">toSQL</span>&#8203;(<span class="arguments">com.fasterxml.jackson.databind.JsonNode&nbsp;node)</span></div>
<div class="block">Recursively parses the clauses of a Query node to append 
 to the SQL string being built. If the current node is a single value, 
 this method appends its text representation to the SQL string being built. 
 If it is an array node, this method calls itself on each element. 
 If it is an object node, it represents a subquery, and  this method calls itself. 
 <p>
 The method also edits the text to insert a comma after each element 
 containing a comment (that is, a data type), so that the SQL processor 
 in the Dataframe Factory reads the query string correctly.
 <p>
 This method leaves the query string surrounded by parentheses, 
 which are removed by the parent toSQL method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>node</code> - contains the Query or subquery being parsed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the SQL string being built</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getSchema()">getSchema</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="../MsdxContainer.html" title="class in io.github.JeremyBloom.mosdex2">MsdxContainer</a>&lt;java.lang.Class&lt;?&gt;&gt;</span>&nbsp;<span class="memberName">getSchema</span>()</div>
<div class="block">This method creates a Table Schema from a Query in MOSDEX JSON.
 It uses the fields defined in the SELECT clause of the Query. 
 The type of each field is annotated as a SQL comment, denoted by " -- ", 
 after the field name or alias name in the "AS" portion of the field.
 <p> 
 The following is an example Query with data type annotations: 
 <pre><code>
 "QUERY": {                                                                                        
  "SELECT":[                                                                                                                                                             
  "'ship' AS Name                                                                                       -- STRING",          
         "routes.origin AS origin                                                                       -- STRING",           
         "routes.destination AS destination                                             -- STRING",          
         "CONCAT('ship','_', origin, '_', destination) AS Column        -- STRING",          
         "CAST(0.0 AS DOUBLE) AS LowerBound                                             -- DOUBLE",          
         "routes.capacity AS UpperBound                                                 -- DOUBLE",          
         "'PrimalValue(Column)' AS Value                                                        -- DOUBLE_FUNCTION"],
  "FROM": "routes"                                                                                                                                               
 }                                                                                                                                                                                       
 </code></pre>
 
 All fields must have unique names. 
 If the FROM or JOIN clauses specify more than one Table, 
 all columns must be fully qualified with the name of its source Table and 
 must have an AS clause to define a unique name; 
 unqualified names are allowed when referring to the single Table in a FROM clause.
 Each field must be specified in its own string in the predicate array, and  
 the comment symbol -- must be surrounded by whitespace, and 
 the JSON delimiters , and ] appear outside the quotes separating the array elements.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Schema container</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MsdxQuery.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
